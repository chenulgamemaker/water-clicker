<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸ’§ Water Clicker</title>
  <style>
    body { text-align: center; font-family: Arial, sans-serif; background: #e0f7fa; }
    #drop { font-size: 80px; cursor: pointer; }
    .upgrade { margin: 5px; padding: 8px 12px; display: block; width: 300px; margin-left: auto; margin-right: auto; }
    h2 { margin-top: 20px; }
    #stats { margin-top: 15px; }
    #leaderboard { margin-top: 20px; border: 1px solid #444; padding: 10px; width: 350px; margin-left: auto; margin-right: auto; background: #fff; }
  </style>
</head>
<body>
  <h1>ðŸ’§ Water Clicker</h1>
  <p>Player: <span id="playerName"></span></p>
  <p>Water: <span id="water">0</span></p>
  <div id="drop">ðŸ’§</div>

  <div id="stats">
    <p>Click Multiplier: <span id="mult">1</span>x</p>
    <p>Auto Rate: <span id="auto">0</span>/sec</p>
    <p>Rebirths: <span id="rebirths">0</span> / 10</p>
    <p>Rebirth Multiplier: <span id="rbmult">1</span>x</p>
    <p>Next Rebirth Requirement: <span id="rbReq">1,000,000</span> water</p>
  </div>

  <h2>Click Upgrades</h2>
  <div id="clickUpgrades"></div>

  <h2>Auto Clickers</h2>
  <div id="autoUpgrades"></div>

  <h2>Rebirth</h2>
  <button id="rebirthBtn">âœ¨ Rebirth (Reset for Power!)</button>

  <h2>Leaderboard</h2>
  <div id="leaderboard"></div>

  <script>
    let water = 0;
    let multiplier = 1;
    let autoRate = 0;
    let rebirths = 0;
    let rebirthMultiplier = 1;
    let rebirthRequirement = 1e6; // 1M
    let playerName;

    // Random name generator
    function generateName() {
      const names = ["WaveRider", "AquaKing", "TideMaster", "KrakenLord", "Poseidon", "HydroHero", "WaterMage"];
      const rand = Math.floor(Math.random() * names.length);
      return names[rand] + Math.floor(Math.random() * 1000);
    }

    // Load or create player
    if (!localStorage.getItem("playerName")) {
      playerName = generateName();
      localStorage.setItem("playerName", playerName);
    } else {
      playerName = localStorage.getItem("playerName");
    }
    document.getElementById("playerName").textContent = playerName;

    // --- CLICK UPGRADES (rebalance: massive scaling) ---
    const clickUpgrades = [
      { name: "Splash", effect: 2, cost: 15 },
      { name: "Soak", effect: 5, cost: 40 },
      { name: "Gush", effect: 10, cost: 75 },
      { name: "Surge", effect: 25, cost: 150 },
      { name: "Torrent", effect: 50, cost: 300 },
      { name: "Cascade", effect: 100, cost: 600 },
      { name: "Deluge", effect: 500, cost: 1200 },
      { name: "Breaker", effect: 1_000, cost: 2500 },
      { name: "Typhoon", effect: 5_000, cost: 5000 },
      { name: "Cyclone", effect: 10_000, cost: 10000 },
      { name: "Maelstrom", effect: 50_000, cost: 25000 },
      { name: "Abyss", effect: 100_000, cost: 50000 },
      { name: "Trench", effect: 500_000, cost: 100000 },
      { name: "Megatsunami", effect: 1_000_000, cost: 250000 },
      { name: "Leviathan", effect: 5_000_000, cost: 500000 },
      { name: "Tsunami Titan", effect: 10_000_000, cost: 1_000_000 },
      { name: "Ocean Colossus", effect: 50_000_000, cost: 2_500_000 },
      { name: "Poseidon", effect: 100_000_000, cost: 5_000_000 },
      { name: "Kraken Titan", effect: 500_000_000, cost: 10_000_000 },
      { name: "Maelstrom Emperor", effect: 1_000_000_000, cost: 25_000_000 },
      { name: "Leviathan Overlord", effect: 5_000_000_000, cost: 50_000_000 },
      { name: "Apocalypse Flood", effect: 10_000_000_000, cost: 100_000_000 },
      { name: "Infinity Surge", effect: 10_000_000_000_000, cost: 1e21 }
    ];

    // --- AUTO UPGRADES (rebalance: massive scaling) ---
    const autoUpgrades = [
      { name: "Drip", effect: 1, cost: 10 },
      { name: "Droplet", effect: 2, cost: 20 },
      { name: "Puddle", effect: 5, cost: 50 },
      { name: "Stream", effect: 10, cost: 100 },
      { name: "Brook", effect: 25, cost: 200 },
      { name: "River", effect: 100, cost: 500 },
      { name: "Waterfall", effect: 250, cost: 1000 },
      { name: "Wave", effect: 1000, cost: 2000 },
      { name: "Tide", effect: 5_000, cost: 5000 },
      { name: "Current", effect: 10_000, cost: 10000 },
      { name: "Whirlpool", effect: 50_000, cost: 25000 },
      { name: "Flood", effect: 100_000, cost: 50000 },
      { name: "Monsoon", effect: 500_000, cost: 100000 },
      { name: "Ocean", effect: 1_000_000, cost: 250000 },
      { name: "Tsunami", effect: 5_000_000, cost: 500000 },
      { name: "Abyss", effect: 10_000_000, cost: 1_000_000 },
      { name: "Trench", effect: 50_000_000, cost: 2_500_000 },
      { name: "Megatsunami", effect: 100_000_000, cost: 5_000_000 },
      { name: "Leviathan", effect: 500_000_000, cost: 10_000_000 },
      { name: "Whirlpool King", effect: 1_000_000_000, cost: 25_000_000 },
      { name: "Tsunami Lord", effect: 5_000_000_000, cost: 50_000_000 },
      { name: "Ocean Emperor", effect: 10_000_000_000, cost: 100_000_000 },
      { name: "Poseidon", effect: 50_000_000_000, cost: 250_000_000 },
      { name: "Kraken", effect: 100_000_000_000, cost: 500_000_000 },
      { name: "Maelstrom Titan", effect: 500_000_000_000, cost: 1_000_000_000 },
      { name: "Leviathan King", effect: 1_000_000_000_000, cost: 2_500_000_000 },
      { name: "Tsunami Overlord", effect: 5_000_000_000_000, cost: 5_000_000_000 },
      { name: "Ocean Colossus", effect: 10_000_000_000_000, cost: 10_000_000_000 },
      { name: "Abyssal Titan", effect: 50_000_000_000_000, cost: 25_000_000_000 },
      { name: "Trench Lord", effect: 100_000_000_000_000, cost: 50_000_000_000 },
      { name: "Megatsunami Titan", effect: 500_000_000_000_000, cost: 100_000_000_000 },
      { name: "Leviathan Emperor", effect: 1_000_000_000_000_000, cost: 250_000_000_000 },
      { name: "Whirlpool Overlord", effect: 5_000_000_000_000_000, cost: 500_000_000_000 },
      { name: "Tsunami Colossus", effect: 10_000_000_000_000_000, cost: 1e12 },
      { name: "Ocean Overlord", effect: 50_000_000_000_000_000, cost: 2.5e12 },
      { name: "Poseidon King", effect: 100_000_000_000_000_000, cost: 5e12 },
      { name: "Kraken Titan", effect: 500_000_000_000_000_000, cost: 1e13 },
      { name: "Maelstrom Emperor", effect: 1_000_000_000_000_000_000, cost: 2.5e13 },
      { name: "Leviathan Overlord", effect: 5_000_000_000_000_000_000, cost: 5e13 },
      { name: "Tsunami Titan", effect: 1e19, cost: 1e14 },
      { name: "Ocean Titan", effect: 5e19, cost: 2.5e14 },
      { name: "Poseidon Overlord", effect: 1e20, cost: 5e14 },
      { name: "Leviathan King", effect: 5e20, cost: 1e15 },
      { name: "Apocalypse Flood", effect: 1e21, cost: 2.5e15 },
      { name: "Infinity Tide", effect: 5e22, cost: 1e24 }
    ];

    // --- Render upgrades dynamically ---
    function renderUpgrades() {
      const clickDiv = document.getElementById("clickUpgrades");
      clickUpgrades.forEach((upg, i) => {
        upg.level = 0;
        const btn = document.createElement("button");
        btn.className = "upgrade";
        btn.id = "clickUpg" + i;
        btn.textContent = `${upg.name} (x${upg.effect}, Cost: ${upg.cost}, Lv: 0)`;
        btn.onclick = () => buyUpgrade(clickUpgrades, i, "click");
        clickDiv.appendChild(btn);
      });

      const autoDiv = document.getElementById("autoUpgrades");
      autoUpgrades.forEach((upg, i) => {
        upg.level = 0;
        const btn = document.createElement("button");
        btn.className = "upgrade";
        btn.id = "autoUpg" + i;
        btn.textContent = `${upg.name} (+${upg.effect}/s, Cost: ${upg.cost}, Lv: 0)`;
        btn.onclick = () => buyUpgrade(autoUpgrades, i, "auto");
        autoDiv.appendChild(btn);
      });
    }

    // --- Buy upgrades (multi-buy with scaling) ---
    function buyUpgrade(list, index, type) {
      const upg = list[index];
      if (water >= upg.cost) {
        water -= upg.cost;
        upg.level++;
        if (type === "click") {
          multiplier *= upg.effect;
        } else if (type === "auto") {
          autoRate += upg.effect;
        }
        upg.cost = Math.floor(upg.cost * 1.5); // scale cost
        document.getElementById(type + "Upg" + index).textContent =
          `${upg.name} (${type === "click" ? "x" + upg.effect : "+" + upg.effect + "/s"}, Cost: ${upg.cost}, Lv: ${upg.level})`;
        updateDisplay();
      }
    }

    // --- Manual click ---
    document.getElementById("drop").addEventListener("click", () => {
      water += multiplier * rebirthMultiplier;
      updateDisplay();
    });

    // --- Auto clicks ---
    setInterval(() => {
      water += autoRate * rebirthMultiplier;
      updateDisplay();
    }, 1000);

    // --- Rebirth ---
    document.getElementById("rebirthBtn").addEventListener("click", () => {
      if (rebirths >= 10) {
        alert("Max 10 rebirths reached!");
        return;
      }
      if (water >= rebirthRequirement) {
        rebirths++;
        rebirthMultiplier *= 2;
        water = 0;
        multiplier = 1;
        autoRate = 0;
        rebirthRequirement *= 100;
        updateDisplay();
        alert(`âœ¨ Rebirth #${rebirths} complete! Power doubled.`);
      } else {
        alert("Not enough water to rebirth!");
      }
    });

    // --- Leaderboard ---
    function updateLeaderboard() {
      let leaderboard = JSON.parse(localStorage.getItem("leaderboard")) || [];
      leaderboard.push({ name: playerName, score: water });
      leaderboard.sort((a, b) => b.score - a.score);
      leaderboard = leaderboard.slice(0, 10);
      localStorage.setItem("leaderboard", JSON.stringify(leaderboard));

      const lbDiv = document.getElementById("leaderboard");
      lbDiv.innerHTML = leaderboard.map((p, i) =>
        `<p>#${i + 1} ${p.name}: ${p.score.toLocaleString()} water</p>`
      ).join("");
    }

    setInterval(updateLeaderboard, 2000);

    // --- Update UI ---
    const waterEl = document.getElementById("water");
    const multEl = document.getElementById("mult");
    const autoEl = document.getElementById("auto");
    const rbEl = document.getElementById("rebirths");
    const rbmultEl = document.getElementById("rbmult");
    const rbReqEl = document.getElementById("rbReq");

    function updateDisplay() {
      waterEl.textContent = water.toLocaleString();
      multEl.textContent = multiplier.toLocaleString();
      autoEl.textContent = autoRate.toLocaleString();
      rbEl.textContent = rebirths;
      rbmultEl.textContent = rebirthMultiplier.toLocaleString();
      rbReqEl.textContent = rebirthRequirement.toLocaleString();
    }

    renderUpgrades();
    updateDisplay();
    updateLeaderboard();
  </script>
</body>
</html>
